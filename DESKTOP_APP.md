# 币安自动交易 - 桌面应用说明

本项目已支持打包成 Windows 桌面应用，可以像普通 Windows 程序一样双击运行。

## 开发模式

在本地开发时，可以使用以下命令启动桌面应用：

```bash
pnpm electron:dev
```

这个命令会：
1. 启动 Next.js 开发服务器（端口 5000）
2. 编译 Electron 主进程代码
3. 启动 Electron 应用窗口

## 构建桌面应用

### 在本地构建

```bash
pnpm electron:build
```

构建完成后，会在 `dist` 目录下生成安装包，文件名格式为：`币安自动交易 Setup 0.1.0.exe`

双击安装包即可安装到 Windows 系统，安装后可以在桌面和开始菜单找到快捷方式。

### 在沙箱环境构建

由于沙箱环境不支持图形界面，可以在沙箱中构建安装包，然后下载到本地 Windows 系统安装。

```bash
pnpm electron:build
```

构建完成后，安装包位于 `dist` 目录。

## 桌面应用特性

- **独立运行**：不需要浏览器，直接以桌面应用形式运行
- **系统托盘**：支持最小化到系统托盘
- **自动启动**：安装后可选择开机自启动
- **深色主题**：继承 Web 应用的深色主题界面
- **本地存储**：API 密钥等敏感信息存储在本地，不上传到服务器

## 注意事项

1. **仅支持主网交易**：桌面应用仅连接币安主网，不支持测试网和模拟交易
2. **API 密钥安全**：API 密钥存储在浏览器本地存储中，请勿泄露
3. **网络连接**：需要稳定的网络连接以获取实时行情和执行交易
4. **系统要求**：Windows 10/11 x64

## 文件结构

```
├── electron/              # Electron 主进程和预加载脚本
│   ├── main.ts           # 主进程入口
│   └── preload/          # 预加载脚本
├── dist-electron/        # 编译后的 Electron 代码
├── dist/                 # 打包后的桌面应用安装包
└── package.json          # 项目配置和构建脚本
```

## 开发说明

Electron 应用由以下部分组成：

1. **主进程 (Main Process)**：运行在 Node.js 环境，负责窗口管理、系统集成
2. **渲染进程 (Renderer Process)**：即 Next.js 应用，负责 UI 渲染和用户交互
3. **预加载脚本 (Preload)**：主进程和渲染进程之间的安全桥梁

由于本项目使用 Next.js 的 SSR 模式，在 Electron 中需要等待 Next.js 开发服务器启动后才能加载页面。
